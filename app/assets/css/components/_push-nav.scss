$push-nav-width: 280px;
$push-nav-speed: 0.4s;

.body-wrapper {
    transition: transform $push-nav-speed;

    .push-nav-active & {
        transform: translateX(-$push-nav-width);
    }
}

.push-nav {
    visibility: hidden;
    overflow: hidden;
    position: absolute;
    right: 0;
    top: 0;

    .push-nav-active & {
        visibility: visible;
    }

    &__links {
        width: $push-nav-width;
        transform: translateX($push-nav-width);
        padding: 125px 40px 0;
        color: #fff;
        font-size: 20px;
        transition: $push-nav-speed;
        // transition visibility to delay hiding of the links on close
        transition-property: visibility, transform;

        .push-nav-active & {
            transform: translateX(0);
        }

        .push-nav__link {
            display: inline-block;
            padding: 0.3em 0;
            color: inherit;
            letter-spacing: 0.1em;

            &:after {
                content: '';
                visibility: hidden;
                display: block;
                border-bottom: 1px solid #fff;
            }

            &--has-sub,
            &:hover, &:focus {
                &:after {
                    visibility: visible;
                }
            }
        }

        ul {
            margin: 40px 0;
            font-size: 14px;
        }
    }
}

.push-nav-toggle {
    $spacing: 13px;
    $thinkness: 2px;
    @include hide-text;
    opacity: 0.7;
    position: absolute;
    z-index: 1;
    right: 0;
    top: 0;
    padding: 30px;
    transition: opacity 0.2s;

    &:hover, &:focus {
        outline: none;
        opacity: 1;
    }

    &__line {
        width: 40px;
        height: $thinkness;
        margin-top: $spacing;
        background: #fff;
        transition: $push-nav-speed;

        &:first-child {
            margin-top: 0;
        }

        .push-nav-active .themed--hover &.themed--bg {
            background: #fff;
        }

        .push-nav-active & {
            &--2 {
                opacity: 0;
                transform: scale(0);
            }

            &--1 {
                transform: rotate(45deg) translateY($spacing + $thinkness);
                transform-origin: 50% #{$spacing + $thinkness};
            }

            &--3 {
                transform: rotate(-45deg) translateY(-$spacing - $thinkness);
                transform-origin: 50% #{-$spacing - $thinkness};
            }
        }
    }
}

.push-nav-overlay {
    visibility: hidden;
    opacity: 0;
    position: absolute;
    z-index: 10;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    background: #fff;
    transition: $push-nav-speed;
    transition-property: visibility, opacity;

    .push-nav-active & {
        visibility: visible;
        opacity: 0.8;
    }
}
